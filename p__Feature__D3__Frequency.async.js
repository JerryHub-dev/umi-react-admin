"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9385],{26834:function(e,t,a){a.r(t);var r=a(57213),n=a.n(r),o=a(2087),l=a(60873),s=a(93236),c=a(62086);t.default=function(){var e=(0,s.useRef)(null),t=(0,s.useRef)(null),a=[{value:0,label:"0kHz"},{value:5e5,label:"500kHz"},{value:1e6,label:"1000kHz"},{value:1e8,label:"100MHz"},{value:2e8,label:"200MHz"},{value:3e8,label:"300MHz"},{value:4e8,label:"400MHz"},{value:5e8,label:"500MHz"},{value:6e8,label:"600MHz"},{value:7e8,label:"700MHz"},{value:8e8,label:"800MHz"},{value:9e8,label:"900MHz"},{value:1e9,label:"1000MHz"},{value:15e9,label:"15GHz"},{value:3e10,label:"30GHz"},{value:45e9,label:"45GHz"},{value:6e10,label:"60GHz"}],r=[{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[35e6,14e7],color:"#4299e1",slashStyle:{forward:!1,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!1,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e7,5e7],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e6,5e8],color:"#4299e1",slashStyle:{forward:!0,backward:!0},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[0,0],color:"#4299e1",slashStyle:{forward:!0,backward:!0},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]}],i=function(e){return e>=1e9?"".concat((e/1e9).toFixed(0),"GHz"):e>=1e6?"".concat((e/1e6).toFixed(0),"MHz"):"".concat((e/1e3).toFixed(0),"kHz")};return(0,s.useEffect)((function(){if(e.current&&null!=r&&r.length){l.Ys(e.current).selectAll("*").remove();var o=50,s=40,c=50,p=40,d=Math.max(t.current.clientWidth-p-s,800),u=150*r.length+o+c,f=l.Ys(e.current).attr("width",d+p+s).attr("height",u).append("g").attr("transform","translate(".concat(p,",").concat(o,")")),y=f.append("g").attr("class","guidelines"),g=l.q2y().domain(a.map((function(e){return e.label}))).range([0,d]).padding(.5),v=new Map(a.map((function(e){return[e.label,e.value]}))),m=new Map(a.map((function(e){return[e.value,e.label]}))),h=l.Ys(t.current).append("div").attr("class","frequency-tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.1)").style("z-index","9999").style("max-width","300px").style("font-size","12px").style("max-height","500px").style("overflow-y","auto"),b=l.Ys(e.current.parentNode).append("div").attr("class","hover-tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid #ddd").style("padding","8px 12px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000"),w=function(e){var t="top"===e?l.F5q(g):l.LLu(g),s="top"===e?0:u-o-c;f.append("g").attr("class","".concat(e,"-axis")).attr("transform","translate(0,".concat(s,")")).call(t).selectAll(".tick").style("cursor","pointer").each((function(e){this.addEventListener("click",(function(t){var l;t.stopPropagation(),y.selectAll("*").remove();var s=g(e);y.append("line").attr("class","guideline").attr("x1",s).attr("y1",0).attr("x2",s).attr("y2",u-o-c).attr("stroke","#666").attr("stroke-width",1).attr("stroke-dasharray","4,4").style("pointer-events","none");var p=null===(l=a.find((function(t){return t.label===e})))||void 0===l?void 0:l.value;if(p){var d=[];r.forEach((function(e){e.ranges.forEach((function(t){p>=t.range[0]&&p<=t.range[1]&&d.push(n()({typeName:e.typeName},t))}))})),d.length>0&&h.style("visibility","visible").style("left","".concat(t.pageX+10,"px")).style("top","".concat(t.pageY-10,"px")).html('\n                    <div>\n                      <div style="font-weight: bold; margin-bottom: 8px;">\n                        频率: '.concat(e,"\n                      </div>\n                      ").concat(d.map((function(e){return'\n                        <div style="margin-bottom: 8px;">\n                          <div style="color: '.concat(e.color,';">\n                            ').concat(e.typeName," - ").concat(e.frequencyName,"\n                          </div>\n                          <div>\n                            范围: ").concat(i(e.range[0])," - ").concat(i(e.range[1]),'\n                          </div>\n                          <pre style="background: #f5f5f5; padding: 8px; margin-top: 4px; border-radius: 4px;">\n').concat(JSON.stringify(e.customInfo,null,2),"\n                          </pre>\n                        </div>\n                      ")})).join('<hr style="margin: 8px 0;">'),"\n                    </div>\n                  "))}}))})).on("click",(function(e,t){var a=function(e){var t=[];return r.forEach((function(a){a.ranges.forEach((function(r){e>=r.range[0]&&e<=r.range[1]&&t.push(n()({typeName:a.typeName},r))}))})),t}(v.get(t));if(console.log(a,"matches"),a.length>0){var o=a.map((function(e){return'\n              <div style="margin-bottom: 8px;">\n                <div style="font-weight: bold; margin-bottom: 4px;">\n                  '.concat(e.typeName," - ").concat(e.frequencyName,'\n                </div>\n                <div style="margin-bottom: 4px;">\n                  频率范围: ').concat(i(e.range[0])," - ").concat(i(e.range[1]),'\n                </div>\n                <pre style="background: #f5f5f5; padding: 8px; margin-top: 4px; border-radius: 4px; white-space: pre-wrap;">\n').concat(JSON.stringify(e.customInfo,null,2),"\n                </pre>\n              </div>\n            ")})).join('<hr style="margin: 8px 0;">');h.style("visibility","visible").style("left","".concat(e.pageX+10,"px")).style("top","".concat(e.pageY+10,"px")).html(o)}})).on("mouseout",(function(){h.style("visibility","hidden"),y.selectAll("*").remove()}))};return w("top"),w("bottom"),r.forEach((function(e,t){var r=f.append("g").attr("class","type-group").attr("transform","translate(0,".concat(150*t+20,")"));r.append("rect").attr("x",0).attr("y",0).attr("width",d).attr("height",120).attr("fill","none").attr("stroke","#e5e7eb").attr("rx",4),r.append("text").attr("x",10).attr("y",20).text(e.typeName).style("font-weight","bold");var n=new Map;e.ranges.forEach((function(e){for(var t=0;;){if(!(n.get(t)||[]).some((function(t){return!(e.range[1]<t.range[0]||e.range[0]>t.range[1])}))){n.has(t)||n.set(t,[]),n.get(t).push(e),e.level=t;break}t++}}));var o=function(e){var t=m.get(a.reduce((function(t,a){return Math.abs(a.value-e)<Math.abs(t.value-e)?a:t})).value);return g(t)};e.ranges.forEach((function(a,n){var s,c,p=o(a.range[0]),d=o(a.range[1]);console.log(p,d,"startX, endX");var u=35+30*a.level,y=r.append("g").attr("class","frequency-block").attr("transform","translate(0,".concat(u,")")),g=y.append("rect").attr("x",p).attr("y",0).attr("width",Math.max(d-p,2)).attr("height",25).attr("fill",a.color).attr("rx",3).style("cursor","pointer").attr("opacity",.7).style("pointer-events","all");if(g.on("mouseover",(function(t){console.log("mouseover",t),l.Ys(this).attr("opacity",.9).attr("stroke","#000").attr("stroke-width",1),b.style("visibility","visible").style("left","".concat(t.pageX+10,"px")).style("top","".concat(t.pageY-10,"px")).html('\n              <div>\n                <div style="font-weight: bold; margin-bottom: 4px;">\n                  '.concat(e.typeName," - ").concat(a.frequencyName,'\n                </div>\n                <div style="margin-bottom: 4px;">\n                  频率范围: ').concat(i(a.range[0])," - ").concat(i(a.range[1]),'\n                </div>\n                <pre style="background: #f5f5f5; padding: 8px; margin-top: 4px; border-radius: 4px;">\n                  ').concat(JSON.stringify(a.customInfo,null,2),"\n                </pre>\n              </div>\n            "))})),g.on("mouseout",(function(){console.log("mouseout"),l.Ys(this).attr("opacity",.7).attr("stroke","none"),b.style("visibility","hidden")})),null!==(s=a.slashStyle)&&void 0!==s&&s.forward||null!==(c=a.slashStyle)&&void 0!==c&&c.backward){var v="pattern-".concat(t,"-").concat(n),m=f.append("defs").append("pattern").attr("id",v).attr("patternUnits","userSpaceOnUse").attr("width",10).attr("height",10);a.slashStyle.forward&&m.append("path").attr("d","M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2").attr("stroke","black").attr("stroke-width",1).attr("opacity",.3),a.slashStyle.backward&&m.append("path").attr("d","M-1,-1 l2,2 M0,0 l10,10 M9,9 l2,2").attr("stroke","black").attr("stroke-width",1).attr("opacity",.3),y.append("rect").attr("x",p).attr("y",0).attr("width",Math.max(d-p,2)).attr("height",25).attr("fill","url(#".concat(v,")")).attr("rx",3).style("pointer-events","none")}}))})),function(){h.remove()}}}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{children:(0,c.jsx)("div",{ref:t,className:"w-full overflow-x-auto",children:(0,c.jsx)("svg",{ref:e,className:"min-w-full"})})})})}}}]);