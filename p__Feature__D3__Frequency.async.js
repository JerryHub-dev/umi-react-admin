"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9385],{26834:function(e,t,a){a.r(t);var r=a(57213),n=a.n(r),l=a(2087),o=a(60873),c=a(93236),s=a(62086);t.default=function(){var e=(0,c.useRef)(null),t=(0,c.useRef)(null),a=[{value:0,label:"0kHz"},{value:5e5,label:"500kHz"},{value:1e6,label:"1000kHz"},{value:1e8,label:"100MHz"},{value:2e8,label:"200MHz"},{value:3e8,label:"300MHz"},{value:4e8,label:"400MHz"},{value:5e8,label:"500MHz"},{value:6e8,label:"600MHz"},{value:7e8,label:"700MHz"},{value:8e8,label:"800MHz"},{value:9e8,label:"900MHz"},{value:1e9,label:"1000MHz"},{value:15e9,label:"15GHz"},{value:3e10,label:"30GHz"},{value:45e9,label:"45GHz"},{value:6e10,label:"60GHz"}],r=[{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!1,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]},{typeName:"无线设备",ranges:[{frequencyName:"设备A",range:[1e5,5e5],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e7,5e7],color:"#4299e1",slashStyle:{forward:!0,backward:!1},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[1e6,5e8],color:"#4299e1",slashStyle:{forward:!0,backward:!0},customInfo:{description:"测试设备",power:"10W",status:"正常"}},{frequencyName:"设备A",range:[0,0],color:"#4299e1",slashStyle:{forward:!0,backward:!0},customInfo:{description:"测试设备",power:"10W",status:"正常"}}]}],i=function(e){return e>=1e9?"".concat((e/1e9).toFixed(0),"GHz"):e>=1e6?"".concat((e/1e6).toFixed(0),"MHz"):"".concat((e/1e3).toFixed(0),"kHz")};return(0,c.useEffect)((function(){if(e.current&&null!=r&&r.length){o.Ys(e.current).selectAll("*").remove();var l=50,c=40,s=50,p=40,u=Math.max(t.current.clientWidth-p-c,800),d=150*r.length+l+s,f=o.Ys(e.current).attr("width",u+p+c).attr("height",d).append("g").attr("transform","translate(".concat(p,",").concat(l,")")),y=o.q2y().domain(a.map((function(e){return e.label}))).range([0,u]).padding(.5),g=new Map(a.map((function(e){return[e.label,e.value]}))),h=new Map(a.map((function(e){return[e.value,e.label]}))),m=o.Ys(t.current).append("div").attr("class","frequency-tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.1)").style("z-index","9999").style("max-width","300px").style("font-size","12px"),v=function(e){var t=[];return r.forEach((function(a){a.ranges.forEach((function(r){e>=r.range[0]&&e<=r.range[1]&&t.push(n()({typeName:a.typeName},r))}))})),t},b=function(e){var t="top"===e?o.F5q(y):o.LLu(y),a="top"===e?0:d-l-s;f.append("g").attr("class","".concat(e,"-axis")).attr("transform","translate(0,".concat(a,")")).call(t).selectAll(".tick").style("cursor","pointer").on("click",(function(e,t){var a=g.get(t),r=v(a);if(console.log(r,"matches"),r.length>0){var n=r.map((function(e){return'\n              <div style="margin-bottom: 8px;">\n                <div style="font-weight: bold; margin-bottom: 4px;">\n                  '.concat(e.typeName," - ").concat(e.frequencyName,'\n                </div>\n                <div style="margin-bottom: 4px;">\n                  频率范围: ').concat(i(e.range[0])," - ").concat(i(e.range[1]),'\n                </div>\n                <pre style="background: #f5f5f5; padding: 8px; margin-top: 4px; border-radius: 4px; white-space: pre-wrap;">\n').concat(JSON.stringify(e.customInfo,null,2),"\n                </pre>\n              </div>\n            ")})).join('<hr style="margin: 8px 0;">');m.style("visibility","visible").style("left","".concat(e.pageX+10,"px")).style("top","".concat(e.pageY+10,"px")).html(n)}}))};return b("top"),b("bottom"),r.forEach((function(e,t){var r=f.append("g").attr("class","type-group").attr("transform","translate(0,".concat(150*t+20,")"));r.append("rect").attr("x",0).attr("y",0).attr("width",u).attr("height",120).attr("fill","none").attr("stroke","#e5e7eb").attr("rx",4),r.append("text").attr("x",10).attr("y",20).text(e.typeName).style("font-weight","bold");var n=new Map;e.ranges.forEach((function(e){for(var t=0;;){if(!(n.get(t)||[]).some((function(t){return!(e.range[1]<t.range[0]||e.range[0]>t.range[1])}))){n.has(t)||n.set(t,[]),n.get(t).push(e),e.level=t;break}t++}}));var l=function(e){var t=h.get(a.reduce((function(t,a){return Math.abs(a.value-e)<Math.abs(t.value-e)?a:t})).value);return y(t)};e.ranges.forEach((function(e,a){var n,o,c=l(e.range[0]),s=l(e.range[1]),p=35+30*e.level,u=r.append("g").attr("class","frequency-block").attr("transform","translate(0,".concat(p,")"));u.append("rect").attr("x",c).attr("y",0).attr("width",Math.max(s-c,2)).attr("height",25).attr("fill",e.color).attr("rx",3).style("cursor","pointer").attr("opacity",.7).on("click",(function(t){var a=v(e.range[0]);if(console.log(a,"matches"),a.length>0){var r=a.map((function(e){return'\n                <div style="margin-bottom: 8px;">\n                  <div style="font-weight: bold; margin-bottom: 4px;">\n                    '.concat(e.typeName," - ").concat(e.frequencyName,'\n                  </div>\n                  <div style="margin-bottom: 4px;">\n                    频率范围: ').concat(i(e.range[0])," - ").concat(i(e.range[1]),'\n                  </div>\n                  <pre style="background: #f5f5f5; padding: 8px; margin-top: 4px; border-radius: 4px; white-space: pre-wrap;">\n').concat(JSON.stringify(e.customInfo,null,2),"\n                  </pre>\n                </div>\n              ")})).join('<hr style="margin: 8px 0;">');m.style("visibility","visible").style("left","".concat(t.pageX+10,"px")).style("top","".concat(t.pageY+10,"px")).html(r)}}));if(null!==(n=e.slashStyle)&&void 0!==n&&n.forward||null!==(o=e.slashStyle)&&void 0!==o&&o.backward){var d="pattern-".concat(t,"-").concat(a),y=f.append("defs").append("pattern").attr("id",d).attr("patternUnits","userSpaceOnUse").attr("width",10).attr("height",10);e.slashStyle.forward&&y.append("path").attr("d","M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2").attr("stroke","black").attr("stroke-width",1).attr("opacity",.3),e.slashStyle.backward&&y.append("path").attr("d","M-1,-1 l2,2 M0,0 l10,10 M9,9 l2,2").attr("stroke","black").attr("stroke-width",1).attr("opacity",.3),u.append("rect").attr("x",c).attr("y",0).attr("width",Math.max(s-c,2)).attr("height",25).attr("fill","url(#".concat(d,")")).attr("rx",3).style("pointer-events","none")}}))})),f.append("rect").attr("width",u).attr("height",d).attr("fill","none").attr("pointer-events","all").on("click",(function(){m.style("visibility","hidden")})),function(){m.remove()}}}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{children:(0,s.jsx)("div",{ref:t,className:"w-full overflow-x-auto",children:(0,s.jsx)("svg",{ref:e,className:"min-w-full"})})})})}}}]);