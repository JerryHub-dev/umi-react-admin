"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[645],{35559:function(e,t,i){i.r(t);var n=i(54306),s=i.n(n),o=i(80583),a=i(4872),r=i(74970),c=i(49283),l=i(44457),u=i(80078),d=i(82106),m=i(10655),g=i(3035),f=i(43290),p=i(71604),h=i(72348),x=(i(88949),i(93236)),Z=i(62086);t.default=function(){c.Z.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkZjBmZTAzMS1jMTJkLTQ5OGQtYTkyYS0xODcyMjU3MTQzMmUiLCJpZCI6MTg2MDcxLCJpYXQiOjE3MDM0MDIwMzl9.DQzBf8T_0U92DwjBcYQqdgwhFs-Cx7EacplwoL_ypjY";var e=(0,x.useState)(null),t=s()(e,2),i=t[0],n=t[1];(0,x.useEffect)((function(){var e=new l.Z("cesiumContainer",{animation:!1,infoBox:!1,sceneModePicker:!0,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,shouldAnimate:!0,skyAtmosphere:!1,skyBox:!1,vrButton:!1});e.cesiumWidget.creditContainer.style.display="none";var t={destination:u.Z.fromDegrees(116.3974,39.9093,15e6)};return e.camera.flyTo(t),n(e),function(){e.destroy()}}),[]);var y=(0,x.useState)(!1),v=s()(y,2),C=v[0],k=v[1],j=(0,x.useState)([]),M=s()(j,2),w=M[0],D=M[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.Z,{className:"mb-2",message:"轨迹",type:"success"}),(0,Z.jsxs)(o.Z,{children:[(0,Z.jsx)("div",{id:"cesiumContainer",className:"static"}),(0,Z.jsx)("div",{className:"absolute top-8 left-8",children:C?(0,Z.jsx)(r.ZP,{id:"startDrawing",className:"text-cyan-50 hover:text-gray-900",onClick:function(){return function(){k(!1),i.cesiumWidget._element.style.cursor="default",console.log("positions: ",w);var e=w.map((function(e){var t=m.Z.fromCartesian(e);return{longitude:g.Z.toDegrees(t.longitude).toFixed(2),latitude:g.Z.toDegrees(t.latitude).toFixed(2),height:t.height.toFixed(2)}}));console.log("positionsGeo: ",e),D([])}()},children:"绘制完成"}):(0,Z.jsx)(r.ZP,{id:"startDrawing",className:"text-cyan-50 hover:text-gray-900",onClick:function(){return k(!0),i.cesiumWidget._element.style.cursor="crosshair",void new d.Z(i.scene.canvas).setInputAction((function(e){var t=i.camera.pickEllipsoid(e.position,i.scene.globe.ellipsoid);if(t){var n=m.Z.fromCartesian(t),s=g.Z.toDegrees(n.longitude).toFixed(2),o=g.Z.toDegrees(n.latitude).toFixed(2),a=n.height.toFixed(2);if(console.log("经度: ",s,"纬度: ",o,"高度: ",a),i.entities.add({position:t,ellipse:{semiMinorAxis:3e4,semiMajorAxis:3e4,material:new f.Z(1,1,1,.5)}}),w.length>=1){var r=w[w.length-1];i.entities.add({polyline:{positions:new p.Z((function(){return[r,t]}),!1),width:2,material:f.Z.YELLOW}})}w.push(t),D(w)}}),h.Z.LEFT_CLICK)},children:"开始绘制"})})]})]})}}}]);